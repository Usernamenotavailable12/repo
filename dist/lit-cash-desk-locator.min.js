var g=Object.freeze,u=Object.defineProperty,T=(n,t,e)=>t in n?u(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,p=(n,t,e)=>T(n,"symbol"!=typeof t?t+"":t,e),r=(n,t)=>g(u(n,"raw",{value:g(t||n.slice())}));function B(){import.meta.url,import("_").catch((()=>1)),async function*(){}().next()}const{LitElement:j,html:c,css:O}=window.Lit;var b,f,m,x,v,w,k,y;class d extends j{constructor(){super(),this.selectedLocation="All",this.searchQuery="",this.isLibertyBank=!1,this.highlightedDesk=null,this.lang="en",this.isDropdownOpen=!1,this.cashDesks=[],this.translations={},this.options=[],this.loading=!0,this.visibleCount=10}async connectedCallback(){super.connectedCallback();try{const[n,t,e]=await Promise.all([fetch("https://json.samsara.ge/cash-desks-translations.json"),fetch("https://json.samsara.ge/cash-desks.json"),fetch("https://json.samsara.ge/cash-desks-options.json")]);if(!n.ok||!t.ok||!e.ok)throw new Error("Failed to fetch data");this.translations=await n.json(),this.cashDesks=await t.json(),this.options=await e.json()}catch(n){console.error("Error fetching data:",n),this.translations={},this.cashDesks=[],this.options=[]}finally{this.loading=!1,this.requestUpdate(),this.setupIntersectionObserver()}}setupIntersectionObserver(){var n;const t=null==(n=this.renderRoot)?void 0:n.querySelector("#sentinel");t&&new IntersectionObserver((n=>{n[0].isIntersecting&&!this.loading&&(this.visibleCount+=5,this.requestUpdate())}),{root:null,rootMargin:"100px",threshold:.1}).observe(t)}updated(){this.setupIntersectionObserver()}handleLocationChange(n){this.selectedLocation=n,this.isDropdownOpen=!1,this.visibleCount=10,this.requestUpdate()}handleSearchChange(n){this.searchQuery=n.target.value.toLowerCase(),this.visibleCount=10,this.requestUpdate()}handleToggleChange(){this.isLibertyBank=!this.isLibertyBank,this.visibleCount=10,this.requestUpdate()}handleDeskClick(n){var t;this.highlightedDesk=(null==(t=this.highlightedDesk)?void 0:t.id)===n.id?null:n,this.requestUpdate()}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.requestUpdate()}getTranslation(n){var t,e;const s=this.translations[this.lang]?this.lang:"en";return(null==(t=this.translations[s])?void 0:t[n])||(null==(e=this.translations.en)?void 0:e[n])||n}getSelectorTranslation(n){var t,e,s,i;const a=this.translations[this.lang]?this.lang:"en";return(null==(e=null==(t=this.translations[a])?void 0:t.selector)?void 0:e[n])||(null==(i=null==(s=this.translations.en)?void 0:s.selector)?void 0:i[n])||n}isOpenNow(n){const t=new Date,e=new Date(t.getTime()+144e5),s=e.getUTCHours(),i=e.getUTCMinutes();for(const t of n){const[n,e]=t.split("-").map((n=>{const[t,e="00"]=n.split(":");return 60*parseInt(t)+parseInt(e)})),a=60*s+i;if(a>=n&&a<e)return!0}return!1}render(){if(this.loading||!this.translations||0===Object.keys(this.translations).length)return c(f||(f=r(["<div>Loading...</div>"])));const n=this.cashDesks.filter((n=>{const t="All"===this.selectedLocation||n.location===this.selectedLocation,e=!this.searchQuery||n.address.toLowerCase().includes(this.searchQuery),s=this.isLibertyBank?"Liberty"===n.bankType:"Liberty"!==n.bankType;return t&&e&&s})),t=n.slice(0,this.visibleCount),e=this.options||[];return c(y||(y=r(['\n      <div class="container">\n        <div class="header">\n          <h1>','</h1>\n        </div>\n\n        <div class="filters">\n          <div\n            class="custom-select-wrapper ','"\n          >\n            <div class="custom-select" @click=',">\n              ",'\n            </div>\n            <div class="custom-options ','">\n              ','\n            </div>\n          </div>\n          <div class="filter-toggle">\n            <div\n              class="toggle-btn ','"\n              @click=','\n            >\n              <div class="circle"></div>\n            </div>\n            <span>','</span>\n          </div>\n          <div class="search-bar">\n            <input\n              type="text"\n              placeholder=',"\n              @input=",'\n            />\n          </div>\n        </div>\n\n        <div class="cash-desks">\n          ',"\n          ","\n        </div>\n      </div>\n    "])),this.getTranslation("cashDesks"),this.isDropdownOpen?"open":"",this.toggleDropdown,this.getSelectorTranslation(this.selectedLocation),this.isDropdownOpen?"open":"",e.map((n=>c(m||(m=r(['\n                  <div\n                    class="custom-option ','"\n                    @click=',"\n                  >\n                    ","\n                  </div>\n                "])),this.selectedLocation===n?"selected":"",(()=>this.handleLocationChange(n)),this.getSelectorTranslation(n)))),this.isLibertyBank?"active":"",this.handleToggleChange,this.getTranslation("LibertyBank"),this.getTranslation("searchPlaceholder"),this.handleSearchChange,t.map((n=>{var t,e;return c(w||(w=r(['\n              <div\n                class="cash-desk '," ",'"\n                @click=','\n              >\n                <div class="hours-status">\n                  <div class="hours">\n                    ',"\n                  </div>\n                  <span\n                    class=","\n                    >",'</span\n                  >\n                </div>\n                <div class="location">\n                  <div class="location-icon">\n                    <img\n                      src="https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/4b7813ea-3e45-44ad-ae54-5231082acd7b/loc.png"\n                    />\n                  </div>\n                  <span class="location-text">',"</span>\n                </div>\n              </div>\n              ","\n            "])),n.bankType,(null==(t=this.highlightedDesk)?void 0:t.id)===n.id?"highlighted":"",(()=>this.handleDeskClick(n)),n.hours.map((n=>c(x||(x=r(["<span>","</span>"])),n))),this.isOpenNow(n.hours)?"status-open":"status-closed",this.isOpenNow(n.hours)?this.getTranslation("open"):this.getTranslation("closed"),n.address,(null==(e=this.highlightedDesk)?void 0:e.id)===n.id&&"Other"===n.bankType?c(v||(v=r(['\n                    <div class="map-container active">\n                      <iframe\n                        class="map-iframe"\n                        src=',"\n                        allowfullscreen\n                      ></iframe>\n                    </div>\n                  "])),n.mapLink):"")})),n.length>this.visibleCount?c(k||(k=r(['<div id="sentinel"></div>']))):"")}}p(d,"styles",O(b||(b=r(['\n    :host {\n      color: white;\n      padding: 0px;\n      font-family: "Noto Sans Ambassadori";\n      margin: 0;\n    }\n\n    .container {\n      margin: 0 auto;\n      background: #1c091a;\n    }\n\n    .header {\n      background: #44173f;\n      padding: 14px 24px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      position: sticky;\n      top: 0;\n      z-index: 2;\n    }\n\n    .header h1 {\n      font-size: 20px;\n      font-family: "Noto Sans Ambassadori Bold";\n      margin-block-start: 0em;\n      margin-block-end: 0em;\n    }\n\n    .filters {\n      padding: 16px 24px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      flex-wrap: wrap;\n      gap: 16px;\n      position: sticky;\n      top: 45px;\n      z-index: 1;\n      background: #1c091a;\n    }\n\n    .custom-select-wrapper {\n      position: relative;\n      min-width: 210px;\n    }\n\n    .cash-desk.Liberty:after {\n      content: "";\n      background-image: url("https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/691ad445-69e5-4c7d-9961-9f84043a0c09/Frame%2024842.png");\n      background-size: contain;\n      background-repeat: no-repeat;\n      height: 100%;\n      width: 100%;\n      background-position: right;\n      pointer-events: none;\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n\n    .custom-select {\n      background: #44173f;\n      border: none;\n      border-radius: 64px;\n      padding: 10px 2px 10px 16px;\n      color: white;\n      font-size: 16px;\n      cursor: pointer;\n      font-family: "Noto Sans Ambassadori";\n      width: 87%;\n      outline: none;\n    }\n\n    .custom-select-wrapper.open .custom-select {\n      outline: 1px solid #9b298f;\n    }\n\n    .custom-select-wrapper::after {\n      content: url("https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/ad16f850-3f80-4e4f-96d0-e3e9f664cf96/arrow-down.svg");\n      position: absolute;\n      right: 24px;\n      top: 50%;\n      transform: translateY(-50%);\n      color: white;\n      font-size: 12px;\n      pointer-events: none;\n      transition: transform 0.3s ease;\n    }\n\n    .custom-select-wrapper.open::after {\n      transform: translateY(-50%) rotate(180deg);\n    }\n\n    .custom-options {\n      position: absolute;\n      top: 100%;\n      left: 0;\n      right: 0;\n      background: #44173f;\n      border-radius: 12px;\n      overflow: hidden;\n      z-index: 10;\n      display: none;\n      margin-top: 4px;\n      border: 1px solid #9b298f;\n      max-height: 200px;\n      overflow-y: auto;\n      scrollbar-width: none;\n    }\n\n    .custom-options.open {\n      display: block;\n    }\n\n    .custom-option {\n      padding: 10px 16px;\n      color: white;\n      font-size: 16px;\n      font-family: "Noto Sans Ambassadori";\n      cursor: pointer;\n      transition: background 0.2s ease;\n    }\n\n    .custom-option:hover {\n      background: #5a2e55;\n    }\n\n    .custom-option.selected {\n      background: #6d2966;\n    }\n\n    .search-bar {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      position: relative;\n      min-width: 200px;\n      background: #44173f;\n      border: none;\n      border-radius: 64px;\n      padding: 10px 16px;\n      color: white;\n      font-size: 16px;\n    }\n\n    .search-bar::before {\n      content: url("https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/80b432ca-be77-4f60-8461-8d1318ef15b0/Frame%2024794.svg?auto=format%2Ccompress");\n      position: absolute;\n      height: 20px;\n      width: 20px;\n      left: 15px;\n      top: 50%;\n      transform: translateY(-50%);\n      pointer-events: none;\n    }\n\n    .search-bar input {\n      background: transparent;\n      border: none;\n      color: white;\n      outline: none;\n      width: 100px;\n      font-family: "Noto Sans Ambassadori";\n      padding-left: 25px;\n    }\n\n    .search-bar input::placeholder {\n      color: rgba(255, 255, 255, 1);\n    }\n\n    .filter-toggle {\n      display: flex;\n      align-items: center;\n      gap: 7px;\n    }\n\n    .toggle-btn {\n      width: 40px;\n      height: 22px;\n      background: #44173f;\n      border-radius: 64px;\n      position: relative;\n      cursor: pointer;\n    }\n\n    .toggle-btn .circle {\n      width: 16px;\n      height: 16px;\n      background: rgba(255, 255, 255, 0.6);\n      border-radius: 50%;\n      position: absolute;\n      top: 3px;\n      left: 3px;\n      transition: left 0.3s;\n    }\n\n    .toggle-btn.active .circle {\n      left: 21px;\n      background: rgba(255, 255, 255, 1);\n    }\n\n    .toggle-btn.active {\n      background: #1caf4b;\n    }\n\n    .cash-desks {\n      padding: 16px 24px;\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(256px, 1fr));\n      gap: 16px;\n      transition: all 0.3s ease;\n    }\n\n    .cash-desk {\n      background-image: url("https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/d945a42a-e32f-40c3-a997-ab60a1b4b895/Frame%2024815hjhjhj.jpg");\n      background-size: cover;\n      border-radius: 12px;\n      padding: 22px;\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n      cursor: pointer;\n      background-position: bottom right;\n      position: relative;\n      transition: all 0.3s ease;\n    }\n\n    .cash-desk.highlighted {\n      outline: 2px solid #9b298f;\n      outline-offset: -2px;\n    }\n\n    .hours-status {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .hours {\n      display: flex;\n      flex-direction: row;\n      gap: 2px;\n      font-size: 10px;\n    }\n\n    .status-open {\n      color: #24a950;\n      font-size: 14px;\n    }\n\n    .status-closed {\n      color: rgba(255, 255, 255, 0.4);\n      font-size: 14px;\n    }\n\n    .location {\n      display: flex;\n      align-items: center;\n      gap: 15px;\n    }\n\n    .location-icon {\n      width: 48px;\n      height: 48px;\n      max-width: 48px;\n      max-height: 48px;\n      min-width: 48px;\n      min-height: 48px;\n      background: #6d2966;\n      border-radius: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-size: 24px;\n    }\n\n    .location-text {\n      font-size: 14px;\n      opacity: 0.8;\n      line-height: 16px;\n    }\n\n    .map-container {\n      grid-column: 1 / -1;\n      width: auto;\n      transition: max-height 0.3s ease, opacity 0.3s ease;\n      max-height: 0;\n      opacity: 0;\n      overflow: hidden;\n      background: #3c1838;\n      padding: 16px;\n      border: 2px solid #9b298f;\n      border-radius: 12px;\n    }\n\n    .map-container.active {\n      max-height: 216px;\n      opacity: 1;\n    }\n\n    .map-iframe {\n      width: 100%;\n      height: 216px;\n      border: none;\n      border-radius: 8px;\n    }\n\n    #sentinel {\n      height: 10px;\n      width: 100%;\n    }\n\n    @media (max-width: 600px) {\n      .header h1 {\n        font-size: 16px;\n      }\n\n      .custom-select,\n      .search-bar input {\n        font-size: 14px;\n      }\n\n      .cash-desk {\n        padding: 8px;\n      }\n\n      .hours {\n        font-size: 8px;\n      }\n\n      .location-text {\n        font-size: 12px;\n      }\n\n      .custom-option {\n        font-size: 14px;\n      }\n    }\n  '])))),p(d,"properties",{selectedLocation:{type:String},searchQuery:{type:String},isLibertyBank:{type:Boolean},highlightedDesk:{type:Object},cashDesks:{type:Array},lang:{type:String,attribute:!0},isDropdownOpen:{type:Boolean},loading:{type:Boolean},visibleCount:{type:Number}}),customElements.define("cash-desk-locator",d);export{B as __vite_legacy_guard};